<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planilha Or√ßament√°ria Interativa</title>
    <style>
        body {
            font-family: Calibri, Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            background: linear-gradient(135deg, #1e40af, #3b82f6);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .section {
            margin-bottom: 30px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
        }
        .section-header {
            background-color: #f3f4f6;
            padding: 15px;
            font-weight: bold;
            font-size: 16px;
            color: #374151;
            border-bottom: 1px solid #e5e7eb;
        }
        .section-content {
            padding: 15px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
        }
        th, td {
            border: 1px solid #d1d5db;
            padding: 8px 12px;
            text-align: left;
        }
        th {
            background-color: #f9fafb;
            font-weight: bold;
            color: #374151;
        }
        .value {
            text-align: right;
            font-weight: bold;
        }
        .total-row {
            background-color: #fef3c7;
            font-weight: bold;
        }
        .priority {
            background-color: #dcfce7;
        }
        .warning {
            background-color: #fef2f2;
        }
        .info {
            background-color: #eff6ff;
        }
        .formula {
            font-family: 'Courier New', monospace;
            background-color: #f3f4f6;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 12px;
        }
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .kpi-card {
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #cbd5e1;
        }
        .kpi-value {
            font-size: 24px;
            font-weight: bold;
            color: #1e40af;
        }
        .kpi-label {
            font-size: 12px;
            color: #64748b;
            margin-top: 5px;
        }
        .excel-note {
            background-color: #fef3c7;
            border: 1px solid #f59e0b;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .control-table td {
            text-align: center;
        }
        .status-pending {
            color: #dc2626;
            font-weight: bold;
        }
        .status-done {
            color: #16a34a;
            font-weight: bold;
        }
        .status-ok {
            color: #16a34a;
            font-weight: bold;
        }
        .control-table input {
            border: none;
            background: transparent;
            text-align: right;
            font-weight: bold;
            width: 100px;
            color: #333;
        }
        .control-table input:focus {
            outline: 2px solid #007bff;
            background: #f8f9fa;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>PLANILHA OR√áAMENT√ÅRIA INTERATIVA</h1>
            <p>Plano Financeiro Mensal | Meta: Investir 20% do Sal√°rio</p>
        </div>

        <!-- KPIs Dashboard -->
        <div class="section">
            <div class="section-header">üìä DASHBOARD - INDICADORES PRINCIPAIS</div>
            <div class="section-content">
                <div class="kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-value" id="receita-total">R$ 3.260</div>
                        <div class="kpi-label">RECEITA TOTAL</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value" id="meta-investimento">R$ 430</div>
                        <div class="kpi-label">META INVESTIMENTO</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value" id="taxa-poupanca">20%</div>
                        <div class="kpi-label">TAXA POUPAN√áA</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value" id="saldo-livre">R$ 844</div>
                        <div class="kpi-label">SALDO LIVRE</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Receitas -->
        <div class="section">
            <div class="section-header">üí∞ RECEITAS MENSAIS</div>
            <div class="section-content">
                <table>
                    <thead>
                        <tr>
                            <th>FONTE DE RECEITA</th>
                            <th>VALOR</th>
                            <th>A√á√ïES</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Sal√°rio L√≠quido</td>
                            <td class="value"><input type="number" id="salario" value="2150" onchange="calcularTotais()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td>üí∞</td>
                        </tr>
                        <tr>
                            <td>Vale Transporte</td>
                            <td class="value"><input type="number" id="vale-transporte" value="450" onchange="calcularTotais()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td>üöå</td>
                        </tr>
                        <tr>
                            <td>Vale Alimenta√ß√£o</td>
                            <td class="value"><input type="number" id="vale-alimentacao" value="660" onchange="calcularTotais()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td>üçΩÔ∏è</td>
                        </tr>
                        <tr class="total-row">
                            <td><strong>TOTAL RECEITAS</strong></td>
                            <td class="value"><strong id="total-receitas">R$ 3.260,00</strong></td>
                            <td>üìä</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Despesas Fixas -->
        <div class="section">
            <div class="section-header">üè† DESPESAS FIXAS OBRIGAT√ìRIAS</div>
            <div class="section-content">
                <table>
                    <thead>
                        <tr>
                            <th>CATEGORIA</th>
                            <th>DESCRI√á√ÉO</th>
                            <th>VALOR</th>
                            <th>% RECEITA</th>
                            <th>A√á√ïES</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Moradia</td>
                            <td>Aluguel (√°gua, luz, internet inclusos)</td>
                            <td class="value"><input type="number" id="aluguel" value="1600" onchange="calcularTotais()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td class="value" id="perc-aluguel">49,1%</td>
                            <td>üè†</td>
                        </tr>
                        <tr>
                            <td>Transporte</td>
                            <td>Seguro do Carro</td>
                            <td class="value"><input type="number" id="seguro" value="385.46" onchange="calcularTotais()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td class="value" id="perc-seguro">11,8%</td>
                            <td>üöó</td>
                        </tr>
                        <tr>
                            <td>Transporte</td>
                            <td>Gasolina</td>
                            <td class="value">VT</td>
                            <td class="value">0%</td>
                            <td>‚õΩ</td>
                        </tr>
                        <tr class="total-row">
                            <td colspan="2"><strong>SUBTOTAL DESPESAS FIXAS</strong></td>
                            <td class="value"><strong id="total-despesas">R$ 1.985,46</strong></td>
                            <td class="value"><strong id="perc-total-despesas">60,9%</strong></td>
                            <td>üìä</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- DRE - Demonstra√ß√£o do Resultado -->
        <div class="section">
            <div class="section-header">üìä DRE - DEMONSTRA√á√ÉO DO RESULTADO</div>
            <div class="section-content">
                <table>
                    <thead>
                        <tr>
                            <th>DESCRI√á√ÉO</th>
                            <th>VALOR</th>
                            <th>A√á√ïES</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="priority">
                            <td>Receita Total</td>
                            <td class="value" id="dre-receita-total">R$ 3.260,00</td>
                            <td>üí∞</td>
                        </tr>
                        <tr>
                            <td>(-) Despesas Fixas</td>
                            <td class="value" id="dre-despesas-fixas">R$ 1.985,46</td>
                            <td>üè†</td>
                        </tr>
                        <tr>
                            <td>(-) Despesas Vari√°veis</td>
                            <td class="value"><input type="number" id="despesas-variaveis" value="0" onchange="calcularTotais()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td>üõí</td>
                        </tr>
                        <tr>
                            <td>(-) Investimentos</td>
                            <td class="value" id="dre-investimentos">R$ 430,00</td>
                            <td>üìà</td>
                        </tr>
                        <tr>
                            <td>(-) Reserva de Emerg√™ncia</td>
                            <td class="value">R$ 200,00</td>
                            <td>üõ°Ô∏è</td>
                        </tr>
                        <tr class="total-row">
                            <td><strong>= Saldo Dispon√≠vel</strong></td>
                            <td class="value"><strong id="saldo-disponivel-dre">R$ 644,54</strong></td>
                            <td>üí∞</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Distribui√ß√£o Inteligente -->
        <div class="section">
            <div class="section-header">üéØ DISTRIBUI√á√ÉO INTELIGENTE DO SALDO</div>
            <div class="section-content">
                <table>
                    <thead>
                        <tr>
                            <th>CATEGORIA</th>
                            <th>VALOR MENSAL</th>
                            <th>% DO SALDO DISPON√çVEL</th>
                            <th>A√á√ïES</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>üçΩÔ∏è Alimenta√ß√£o</td>
                            <td class="value"><input type="number" id="dist-alimentacao" value="0" onchange="calcularDistribuicao()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td class="value" id="perc-alimentacao">0%</td>
                            <td>üçï</td>
                        </tr>
                        <tr>
                            <td>üéØ Lazer & Entretenimento</td>
                            <td class="value"><input type="number" id="dist-lazer" value="0" onchange="calcularDistribuicao()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td class="value" id="perc-lazer">0%</td>
                            <td>üéÆ</td>
                        </tr>
                        <tr>
                            <td>üè† Produtos de Casa</td>
                            <td class="value"><input type="number" id="dist-casa" value="0" onchange="calcularDistribuicao()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td class="value" id="perc-casa">0%</td>
                            <td>üè†</td>
                        </tr>
                        <tr>
                            <td>üè• Sa√∫de & Bem-estar</td>
                            <td class="value"><input type="number" id="dist-saude" value="0" onchange="calcularDistribuicao()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td class="value" id="perc-saude">0%</td>
                            <td>üíä</td>
                        </tr>
                        <tr>
                            <td>üìö Educa√ß√£o & Cursos</td>
                            <td class="value"><input type="number" id="dist-educacao" value="0" onchange="calcularDistribuicao()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td class="value" id="perc-educacao">0%</td>
                            <td>üìñ</td>
                        </tr>
                        <tr>
                            <td>üöó Manuten√ß√£o e Emerg√™ncias</td>
                            <td class="value"><input type="number" id="dist-manutencao" value="0" onchange="calcularDistribuicao()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td class="value" id="perc-manutencao">0%</td>
                            <td>üöó</td>
                        </tr>
                        <tr class="total-row">
                            <td><strong>TOTAL DISTRIBUI√á√ÉO</strong></td>
                            <td class="value"><strong id="total-distribuicao-editavel">R$ 0,00</strong></td>
                            <td class="value"><strong id="perc-total-distribuicao">0%</strong></td>
                            <td>üìä</td>
                        </tr>
                        <tr class="info">
                            <td><strong>SALDO DISPON√çVEL (DRE)</strong></td>
                            <td class="value"><strong id="saldo-disponivel-referencia">R$ 644,54</strong></td>
                            <td class="value"><strong>100%</strong></td>
                            <td>üí∞</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Controle Semanal -->
        <div class="section">
            <div class="section-header">üìÖ CONTROLE SEMANAL DE GASTOS</div>
            <div class="section-content">
                <table class="control-table">
                    <thead>
                        <tr>
                            <th>SEMANA</th>
                            <th>OR√áADO</th>
                            <th>GASTO REAL</th>
                            <th>DIFEREN√áA</th>
                            <th>STATUS</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Semana 1</td>
                            <td class="value" id="orcado-sem1">R$ 161,14</td>
                            <td class="value"><input type="number" id="gasto-sem1" value="0" onchange="calcularControle(1)" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td class="value" id="diff-sem1">R$ 0,00</td>
                            <td id="status-sem1" class="status-pending">PENDENTE</td>
                        </tr>
                        <tr>
                            <td>Semana 2</td>
                            <td class="value" id="orcado-sem2">R$ 161,14</td>
                            <td class="value"><input type="number" id="gasto-sem2" value="0" onchange="calcularControle(2)" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td class="value" id="diff-sem2">R$ 0,00</td>
                            <td id="status-sem2" class="status-pending">PENDENTE</td>
                        </tr>
                        <tr>
                            <td>Semana 3</td>
                            <td class="value" id="orcado-sem3">R$ 161,14</td>
                            <td class="value"><input type="number" id="gasto-sem3" value="0" onchange="calcularControle(3)" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td class="value" id="diff-sem3">R$ 0,00</td>
                            <td id="status-sem3" class="status-pending">PENDENTE</td>
                        </tr>
                        <tr>
                            <td>Semana 4</td>
                            <td class="value" id="orcado-sem4">R$ 161,12</td>
                            <td class="value"><input type="number" id="gasto-sem4" value="0" onchange="calcularControle(4)" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td class="value" id="diff-sem4">R$ 0,00</td>
                            <td id="status-sem4" class="status-pending">PENDENTE</td>
                        </tr>
                        <tr class="total-row">
                            <td><strong>TOTAL M√äS</strong></td>
                            <td class="value"><strong id="total-orcado-mes">R$ 644,54</strong></td>
                            <td class="value"><strong id="total-gasto-mes">R$ 0,00</strong></td>
                            <td class="value"><strong id="total-diff-mes">R$ 644,54</strong></td>
                            <td><strong>ACOMPANHAR</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Metas de Investimento -->
        <div class="section">
            <div class="section-header">üìà METAS DE INVESTIMENTO</div>
            <div class="section-content">
                <table>
                    <thead>
                        <tr>
                            <th>OBJETIVO</th>
                            <th>% DO SAL√ÅRIO</th>
                            <th>VALOR</th>
                            <th>STATUS</th>
                            <th>A√á√ïES</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="priority">
                            <td>Meta de Investimento Mensal</td>
                            <td class="value"><input type="number" id="perc-investimento" value="20" onchange="calcularTotais()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:60px;">%</td>
                            <td class="value" id="valor-investimento-meta">R$ 430,00</td>
                            <td>‚úÖ PRIORIT√ÅRIO</td>
                            <td>üìà</td>
                        </tr>
                        <tr class="info">
                            <td>Proje√ß√£o Anual</td>
                            <td class="value" id="perc-anual">240%</td>
                            <td class="value" id="projecao-anual-meta">R$ 5.160,00</td>
                            <td>üìä META ANUAL</td>
                            <td>üéØ</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Checklist de A√ß√µes -->
        <div class="section">
            <div class="section-header">‚úÖ CHECKLIST DE A√á√ïES MENSAIS</div>
            <div class="section-content">
                <table>
                    <thead>
                        <tr>
                            <th>PRIORIDADE</th>
                            <th>A√á√ÉO</th>
                            <th>PRAZO</th>
                            <th>STATUS</th>
                            <th>OBSERVA√á√ïES</th>
                            <th>A√á√ïES</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="priority">
                            <td>ALTA</td>
                            <td>Configurar investimento autom√°tico de R$ 430</td>
                            <td>Dia 5</td>
                            <td>‚è≥ PENDENTE</td>
                            <td>Todo dia 5 ap√≥s sal√°rio</td>
                            <td>üíº</td>
                        </tr>
                        <tr class="warning">
                            <td>ALTA</td>
                            <td>Pesquisar novo seguro do carro</td>
                            <td>15 dias</td>
                            <td>‚è≥ PENDENTE</td>
                            <td>Meta: economizar R$ 50-80</td>
                            <td>üîç</td>
                        </tr>
                        <tr>
                            <td>M√âDIA</td>
                            <td>Organizar uso completo dos vales</td>
                            <td>7 dias</td>
                            <td>‚è≥ PENDENTE</td>
                            <td>Vale Alimenta√ß√£o + Transporte</td>
                            <td>üìà</td>
                        </tr>
                        <tr>
                            <td>BAIXA</td>
                            <td>Avaliar oportunidades de renda extra</td>
                            <td>30 dias</td>
                            <td>‚è≥ PENDENTE</td>
                            <td>Meta: R$ 200-500 extras</td>
                            <td>üìã</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Resumo Final -->
        <div class="section">
            <div class="section-header">üìä RESUMO EXECUTIVO</div>
            <div class="section-content">
                <div class="kpi-grid">
                    <div class="kpi-card" style="background: linear-gradient(135deg, #dcfce7, #bbf7d0);">
                        <div class="kpi-value" style="color: #16a34a;">VI√ÅVEL ‚úì</div>
                        <div class="kpi-label">STATUS DA META</div>
                    </div>
                    <div class="kpi-card" style="background: linear-gradient(135deg, #fef3c7, #fde68a);">
                        <div class="kpi-value" style="color: #d97706;">74%</div>
                        <div class="kpi-label">COMPROMETIMENTO MORADIA</div>
                    </div>
                    <div class="kpi-card" style="background: linear-gradient(135deg, #dbeafe, #bfdbfe);">
                        <div class="kpi-value" style="color: #2563eb;">R$ 394</div>
                        <div class="kpi-label">MARGEM SEGURAN√áA</div>
                    </div>
                    <div class="kpi-card" style="background: linear-gradient(135deg, #f3e8ff, #e9d5ff);">
                        <div class="kpi-value" style="color: #9333ea;">R$ 5.880</div>
                        <div class="kpi-label">POTENCIAL ANUAL</div>
                    </div>
                </div>
                
                <p><strong>SITUA√á√ÉO ATUAL:</strong> Or√ßamento equilibrado com margem de seguran√ßa adequada</p>
                <p><strong>PR√ìXIMOS PASSOS:</strong> Implementar controle autom√°tico e otimizar seguro do carro</p>
                <p><strong>OPORTUNIDADES:</strong> Com otimiza√ß√µes, poss√≠vel economizar R$ 720 extras por ano</p>
            </div>
        </div>

        <!-- DICAS DE USO -->
        <div class="section">
            <div class="section-header">üí° DICAS DE USO</div>
            <div class="section-content">
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin: 10px 0;">
                    <h3 style="margin: 0 0 10px 0;">üöÄ Como usar esta planilha interativa:</h3>
                    <p style="margin: 5px 0;">1. <strong>Atualize os valores</strong> nos campos edit√°veis (sal√°rio, benef√≠cios, despesas)</p>
                    <p style="margin: 5px 0;">2. <strong>Ajuste as despesas fixas</strong> conforme sua realidade</p>
                    <p style="margin: 5px 0;">3. <strong>Monitore os KPIs</strong> do dashboard que se atualizam automaticamente</p>
                    <p style="margin: 5px 0;">4. <strong>Configure sua margem de seguran√ßa</strong> para emerg√™ncias</p>
                    <p style="margin: 5px 0;">5. <strong>Acompanhe a distribui√ß√£o</strong> sugerida do seu saldo livre</p>
                </div>
            </div>
        </div>

        <div style="text-align: center; margin-top: 30px; padding: 20px; background-color: #f8fafc; border-radius: 8px;">
            <p><strong>üí° PLANILHA INTERATIVA:</strong> Todos os valores s√£o edit√°veis e se atualizam automaticamente!</p>
            <p><em>√öltima atualiza√ß√£o: Dezembro 2024 | Revis√£o recomendada: Mensal</em></p>
        </div>
    </div>

    <script>
        function formatarMoeda(valor) {
            return 'R$ ' + valor.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
        }

        function calcularTotais() {
            // Receitas
            const salario = parseFloat(document.getElementById('salario').value) || 0;
            const valeTransporte = parseFloat(document.getElementById('vale-transporte').value) || 0;
            const valeAlimentacao = parseFloat(document.getElementById('vale-alimentacao').value) || 0;
            const totalReceitas = salario + valeTransporte + valeAlimentacao;
            document.getElementById('total-receitas').textContent = formatarMoeda(totalReceitas);

            // Despesas Fixas
            const aluguel = parseFloat(document.getElementById('aluguel').value) || 0;
            const seguroCarro = parseFloat(document.getElementById('seguro').value) || 0;
            const totalDespesasFixas = aluguel + seguroCarro;
            document.getElementById('total-despesas').textContent = formatarMoeda(totalDespesasFixas);

            // Calcular percentuais das despesas
            if (totalReceitas > 0) {
                const percAluguel = (aluguel / totalReceitas) * 100;
                const percSeguro = (seguroCarro / totalReceitas) * 100;
                const percTotalDespesas = (totalDespesasFixas / totalReceitas) * 100;
                
                document.getElementById('perc-aluguel').textContent = percAluguel.toFixed(1) + '%';
                document.getElementById('perc-seguro').textContent = percSeguro.toFixed(1) + '%';
                document.getElementById('perc-total-despesas').textContent = percTotalDespesas.toFixed(1) + '%';
            }

            // Atualizar displays
            document.getElementById('receita-total').textContent = formatarMoeda(totalReceitas);

            // C√°lculos DRE
            const despesasVariaveis = parseFloat(document.getElementById('despesas-variaveis').value) || 0;
            const percInvestimento = parseFloat(document.getElementById('perc-investimento').value) || 20;
            const investimentos = (salario * percInvestimento) / 100;
            const reservaEmergencia = 200; // Fixo em R$ 200
            
            document.getElementById('meta-investimento').textContent = formatarMoeda(investimentos);
            document.getElementById('valor-investimento-meta').textContent = formatarMoeda(investimentos);
            document.getElementById('dre-investimentos').textContent = formatarMoeda(investimentos);
            document.getElementById('perc-anual').textContent = (percInvestimento * 12).toFixed(0) + '%';
            document.getElementById('projecao-anual-meta').textContent = formatarMoeda(investimentos * 12);
            
            // Atualizar DRE
            document.getElementById('dre-receita-total').textContent = formatarMoeda(totalReceitas);
            document.getElementById('dre-despesas-fixas').textContent = formatarMoeda(totalDespesasFixas);
            
            const saldoDisponivel = totalReceitas - totalDespesasFixas - despesasVariaveis - investimentos - reservaEmergencia;
            document.getElementById('saldo-disponivel-dre').textContent = formatarMoeda(saldoDisponivel);
            document.getElementById('saldo-disponivel-referencia').textContent = formatarMoeda(saldoDisponivel);

            // Atualizar saldo livre no dashboard
            document.getElementById('saldo-livre').textContent = formatarMoeda(saldoDisponivel);
            
            // Calcular taxa de poupan√ßa
            const taxaPoupanca = totalReceitas > 0 ? (investimentos / totalReceitas) * 100 : 0;
            document.getElementById('taxa-poupanca').textContent = taxaPoupanca.toFixed(1) + '%';

            // Atualizar or√ßamento semanal (saldo dispon√≠vel / 4)
            const orcadoSemanal = saldoDisponivel / 4;
            document.getElementById('orcado-sem1').textContent = formatarMoeda(orcadoSemanal);
            document.getElementById('orcado-sem2').textContent = formatarMoeda(orcadoSemanal);
            document.getElementById('orcado-sem3').textContent = formatarMoeda(orcadoSemanal);
            document.getElementById('orcado-sem4').textContent = formatarMoeda(orcadoSemanal - 0.02); // Ajuste de centavos
            document.getElementById('total-orcado-mes').textContent = formatarMoeda(saldoDisponivel);
            
            // Atualizar percentuais na distribui√ß√£o inteligente
             const alimentacao = parseFloat(document.getElementById('alimentacao-valor').value) || 0;
             const lazer = parseFloat(document.getElementById('lazer-valor').value) || 0;
             const produtosCasa = parseFloat(document.getElementById('produtos-casa-valor').value) || 0;
             const saude = parseFloat(document.getElementById('saude-valor').value) || 0;
             const educacao = parseFloat(document.getElementById('educacao-valor').value) || 0;
             const manutencao = parseFloat(document.getElementById('manutencao-valor').value) || 0;

             const totalDistribuicao = alimentacao + lazer + produtosCasa + saude + educacao + manutencao;
             document.getElementById('total-distribuicao').textContent = formatarMoeda(totalDistribuicao);

             // Calcular percentuais
             if (saldoDisponivel > 0) {
                 document.getElementById('alimentacao-perc').textContent = ((alimentacao / saldoDisponivel) * 100).toFixed(1) + '%';
                 document.getElementById('lazer-perc').textContent = ((lazer / saldoDisponivel) * 100).toFixed(1) + '%';
                 document.getElementById('produtos-casa-perc').textContent = ((produtosCasa / saldoDisponivel) * 100).toFixed(1) + '%';
                 document.getElementById('saude-perc').textContent = ((saude / saldoDisponivel) * 100).toFixed(1) + '%';
                 document.getElementById('educacao-perc').textContent = ((educacao / saldoDisponivel) * 100).toFixed(1) + '%';
                 document.getElementById('manutencao-perc').textContent = ((manutencao / saldoDisponivel) * 100).toFixed(1) + '%';
                 document.getElementById('total-perc').textContent = ((totalDistribuicao / saldoDisponivel) * 100).toFixed(1) + '%';
             }
         }

        // Inicializar c√°lculos quando a p√°gina carregar
        window.onload = function() {
            calcularTotais();
        };
        
        // Tamb√©m calcular quando qualquer input for alterado
        document.addEventListener('DOMContentLoaded', function() {
            calcularTotais();
        });
    </script>
</body>
</html>
