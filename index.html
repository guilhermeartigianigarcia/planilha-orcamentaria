<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planilha Or√ßament√°ria Interativa</title>
    <style>
        body {
            font-family: Calibri, Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            background: linear-gradient(135deg, #1e40af, #3b82f6);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .section {
            margin-bottom: 30px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
        }
        .section-header {
            background-color: #f3f4f6;
            padding: 15px;
            font-weight: bold;
            font-size: 16px;
            color: #374151;
            border-bottom: 1px solid #e5e7eb;
        }
        .section-content {
            padding: 15px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
        }
        th, td {
            border: 1px solid #d1d5db;
            padding: 8px 12px;
            text-align: left;
        }
        th {
            background-color: #f9fafb;
            font-weight: bold;
            color: #374151;
        }
        .value {
            text-align: right;
            font-weight: bold;
        }
        .total-row {
            background-color: #fef3c7;
            font-weight: bold;
        }
        .priority {
            background-color: #dcfce7;
        }
        .warning {
            background-color: #fef2f2;
        }
        .info {
            background-color: #eff6ff;
        }
        .formula {
            font-family: 'Courier New', monospace;
            background-color: #f3f4f6;
            padding: 2px 4px;
            border-radius: 3px;
            font-size: 12px;
        }
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .kpi-card {
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #cbd5e1;
        }
        .kpi-value {
            font-size: 24px;
            font-weight: bold;
            color: #1e40af;
        }
        .kpi-label {
            font-size: 12px;
            color: #64748b;
            margin-top: 5px;
        }
        .excel-note {
            background-color: #fef3c7;
            border: 1px solid #f59e0b;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .control-table td {
            text-align: center;
        }
        .status-pending {
            color: #dc2626;
            font-weight: bold;
        }
        .status-done {
            color: #16a34a;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>PLANILHA OR√áAMENT√ÅRIA INTERATIVA</h1>
            <p>Plano Financeiro Mensal | Meta: Investir 20% do Sal√°rio</p>
        </div>

        <!-- KPIs Dashboard -->
        <div class="section">
            <div class="section-header">üìä DASHBOARD - INDICADORES PRINCIPAIS</div>
            <div class="section-content">
                <div class="kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-value" id="receita-total">R$ 3.260</div>
                        <div class="kpi-label">RECEITA TOTAL</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value" id="meta-investimento">R$ 430</div>
                        <div class="kpi-label">META INVESTIMENTO</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value" id="taxa-poupanca">20%</div>
                        <div class="kpi-label">TAXA POUPAN√áA</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-value" id="saldo-livre">R$ 844</div>
                        <div class="kpi-label">SALDO LIVRE</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Receitas -->
        <div class="section">
            <div class="section-header">üí∞ RECEITAS MENSAIS</div>
            <div class="section-content">
                <table>
                    <thead>
                        <tr>
                            <th>FONTE DE RECEITA</th>
                            <th>VALOR</th>
                            <th>A√á√ïES</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Sal√°rio L√≠quido</td>
                            <td class="value"><input type="number" id="salario" value="2150" onchange="calcularTotais()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td>üí∞</td>
                        </tr>
                        <tr>
                            <td>Vale Transporte</td>
                            <td class="value"><input type="number" id="vale-transporte" value="450" onchange="calcularTotais()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td>üöå</td>
                        </tr>
                        <tr>
                            <td>Vale Alimenta√ß√£o</td>
                            <td class="value"><input type="number" id="vale-alimentacao" value="660" onchange="calcularTotais()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td>üçΩÔ∏è</td>
                        </tr>
                        <tr class="total-row">
                            <td><strong>TOTAL RECEITAS</strong></td>
                            <td class="value"><strong id="total-receitas">R$ 3.260,00</strong></td>
                            <td>üìä</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Despesas Fixas -->
        <div class="section">
            <div class="section-header">üè† DESPESAS FIXAS OBRIGAT√ìRIAS</div>
            <div class="section-content">
                <table>
                    <thead>
                        <tr>
                            <th>CATEGORIA</th>
                            <th>DESCRI√á√ÉO</th>
                            <th>VALOR</th>
                            <th>% RECEITA</th>
                            <th>A√á√ïES</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Moradia</td>
                            <td>Aluguel (√°gua, luz, internet inclusos)</td>
                            <td class="value"><input type="number" id="aluguel" value="1600" onchange="calcularTotais()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td class="value" id="perc-aluguel">49,1%</td>
                            <td>üè†</td>
                        </tr>
                        <tr>
                            <td>Transporte</td>
                            <td>Seguro do Carro</td>
                            <td class="value"><input type="number" id="seguro" value="385.46" onchange="calcularTotais()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td class="value" id="perc-seguro">11,8%</td>
                            <td>üöó</td>
                        </tr>
                        <tr>
                            <td>Transporte</td>
                            <td>Gasolina</td>
                            <td class="value">Vale Transporte</td>
                            <td class="value">0%</td>
                            <td>‚õΩ</td>
                        </tr>
                        <tr class="total-row">
                            <td colspan="2"><strong>SUBTOTAL DESPESAS FIXAS</strong></td>
                            <td class="value"><strong id="total-despesas">R$ 1.985,46</strong></td>
                            <td class="value"><strong id="perc-total-despesas">60,9%</strong></td>
                            <td>üìä</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Investimentos -->
        <div class="section">
            <div class="section-header">üìà METAS DE INVESTIMENTO</div>
            <div class="section-content">
                <table>
                    <thead>
                        <tr>
                            <th>OBJETIVO</th>
                            <th>VALOR</th>
                            <th>% SAL√ÅRIO</th>
                            <th>STATUS</th>
                            <th>A√á√ïES</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="priority">
                            <td>Meta de Investimento Mensal</td>
                            <td class="value" id="valor-investimento">R$ 430,00</td>
                            <td class="value">20%</td>
                            <td>‚úÖ PRIORIT√ÅRIO</td>
                            <td>üìà</td>
                        </tr>
                        <tr class="info">
                            <td>Proje√ß√£o Anual</td>
                            <td class="value" id="projecao-anual">R$ 5.160,00</td>
                            <td class="value">240%</td>
                            <td>üìä META ANUAL</td>
                            <td>üéØ</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- C√°lculo Saldo -->
        <div class="section">
            <div class="section-header">üßÆ C√ÅLCULO DO SALDO DISPON√çVEL</div>
            <div class="section-content">
                <table>
                    <thead>
                        <tr>
                            <th>DESCRI√á√ÉO</th>
                            <th>VALOR</th>
                            <th>STATUS</th>
                            <th>A√á√ïES</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="success">
                            <td>Saldo Dispon√≠vel ap√≥s Investimentos</td>
                            <td class="value" id="saldo-disponivel">R$ 844,54</td>
                            <td>‚úÖ POSITIVO</td>
                            <td>üí∞</td>
                        </tr>
                        <tr class="warning">
                            <td>Margem de Seguran√ßa</td>
                            <td class="value"><input type="number" id="margem-seguranca" value="200" onchange="calcularTotais()" style="border:none; background:transparent; text-align:right; font-weight:bold; width:100px;"></td>
                            <td>‚ö†Ô∏è RESERVA</td>
                            <td>üõ°Ô∏è</td>
                        </tr>
                        <tr class="info">
                            <td>Saldo Livre para Gastos Vari√°veis</td>
                            <td class="value" id="saldo-gastos-variaveis">R$ 644,54</td>
                            <td>üí∞ DISPON√çVEL</td>
                            <td>üõí</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Distribui√ß√£o Inteligente -->
        <div class="section">
            <div class="section-header">üéØ DISTRIBUI√á√ÉO INTELIGENTE DO SALDO</div>
            <div class="section-content">
                <table>
                    <thead>
                        <tr>
                            <th>CATEGORIA</th>
                            <th>% SALDO LIVRE</th>
                            <th>VALOR SUGERIDO</th>
                            <th>A√á√ïES</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>üçΩÔ∏è Alimenta√ß√£o</td>
                            <td class="value">40%</td>
                            <td class="value" id="valor-alimentacao">R$ 257,82</td>
                            <td>üçï</td>
                        </tr>
                        <tr>
                            <td>üéØ Lazer & Entretenimento</td>
                            <td class="value">25%</td>
                            <td class="value" id="valor-lazer">R$ 161,14</td>
                            <td>üéÆ</td>
                        </tr>
                        <tr>
                            <td>üëï Vestu√°rio</td>
                            <td class="value">15%</td>
                            <td class="value" id="valor-vestuario">R$ 96,68</td>
                            <td>üëî</td>
                        </tr>
                        <tr>
                            <td>üè• Sa√∫de & Bem-estar</td>
                            <td class="value">10%</td>
                            <td class="value" id="valor-saude">R$ 64,45</td>
                            <td>üíä</td>
                        </tr>
                        <tr>
                            <td>üìö Educa√ß√£o & Cursos</td>
                            <td class="value">10%</td>
                            <td class="value" id="valor-educacao">R$ 64,45</td>
                            <td>üìñ</td>
                        </tr>
                        <tr class="total-row">
                            <td><strong>TOTAL DISTRIBUI√á√ÉO</strong></td>
                            <td class="value"><strong>100%</strong></td>
                            <td class="value"><strong id="total-distribuicao">R$ 644,54</strong></td>
                            <td>üìä</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Distribui√ß√£o Saldo -->
        <div class="section">
            <div class="section-header">üìã DISTRIBUI√á√ÉO DO SALDO LIVRE (R$ 844,54)</div>
            <div class="section-content">
                <table>
                    <thead>
                        <tr>
                            <th>C√âLULA</th>
                            <th>CATEGORIA</th>
                            <th>ITEM</th>
                            <th>VALOR MENSAL</th>
                            <th>VALOR DI√ÅRIO</th>
                            <th>F√ìRMULA DI√ÅRIA</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>D30</td>
                            <td>Sa√∫de</td>
                            <td>Medicamentos/Consultas</td>
                            <td class="value">R$ 80,00</td>
                            <td class="value">R$ 2,67</td>
                            <td class="formula">=D30/30</td>
                        </tr>
                        <tr>
                            <td>D31</td>
                            <td>Casa</td>
                            <td>Produtos Limpeza/Higiene</td>
                            <td class="value">R$ 100,00</td>
                            <td class="value">R$ 3,33</td>
                            <td class="formula">=D31/30</td>
                        </tr>
                        <tr>
                            <td>D32</td>
                            <td>Pessoal</td>
                            <td>Vestu√°rio</td>
                            <td class="value">R$ 70,00</td>
                            <td class="value">R$ 2,33</td>
                            <td class="formula">=D32/30</td>
                        </tr>
                        <tr>
                            <td>D33</td>
                            <td>Lazer</td>
                            <td>Entretenimento</td>
                            <td class="value">R$ 120,00</td>
                            <td class="value">R$ 4,00</td>
                            <td class="formula">=D33/30</td>
                        </tr>
                        <tr>
                            <td>D34</td>
                            <td>Carro</td>
                            <td>Manuten√ß√£o/Imprevistos</td>
                            <td class="value">R$ 80,00</td>
                            <td class="value">R$ 2,67</td>
                            <td class="formula">=D34/30</td>
                        </tr>
                        <tr>
                            <td>D35</td>
                            <td>Emerg√™ncia</td>
                            <td>Fundo Emergencial</td>
                            <td class="value">R$ 200,00</td>
                            <td class="value">R$ 6,67</td>
                            <td class="formula">=D35/30</td>
                        </tr>
                        <tr>
                            <td>D36</td>
                            <td>Reserva</td>
                            <td>Sobra/Flexibilidade</td>
                            <td class="value">R$ 194,54</td>
                            <td class="value">R$ 6,48</td>
                            <td class="formula">=D36/30</td>
                        </tr>
                        <tr class="total-row">
                            <td>D37</td>
                            <td colspan="2"><strong>TOTAL SALDO LIVRE</strong></td>
                            <td class="value"><strong>R$ 844,54</strong></td>
                            <td class="value"><strong>R$ 28,15</strong></td>
                            <td class="formula">=SOMA(D30:D36)/30</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Controle Semanal -->
        <div class="section">
            <div class="section-header">üìÖ CONTROLE SEMANAL DE GASTOS</div>
            <div class="section-content">
                <table class="control-table">
                    <thead>
                        <tr>
                            <th>SEMANA</th>
                            <th>OR√áADO</th>
                            <th>GASTO REAL</th>
                            <th>DIFEREN√áA</th>
                            <th>F√ìRMULA DIFEREN√áA</th>
                            <th>STATUS</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Semana 1</td>
                            <td class="value">R$ 211,14</td>
                            <td style="background-color: #fff2cc;">INSERIR</td>
                            <td class="formula">=B41-C41</td>
                            <td class="formula">=SE(D41>0;"‚úÖ";"‚ö†Ô∏è")</td>
                            <td class="status-pending">PENDENTE</td>
                        </tr>
                        <tr>
                            <td>Semana 2</td>
                            <td class="value">R$ 211,14</td>
                            <td style="background-color: #fff2cc;">INSERIR</td>
                            <td class="formula">=B42-C42</td>
                            <td class="formula">=SE(D42>0;"‚úÖ";"‚ö†Ô∏è")</td>
                            <td class="status-pending">PENDENTE</td>
                        </tr>
                        <tr>
                            <td>Semana 3</td>
                            <td class="value">R$ 211,14</td>
                            <td style="background-color: #fff2cc;">INSERIR</td>
                            <td class="formula">=B43-C43</td>
                            <td class="formula">=SE(D43>0;"‚úÖ";"‚ö†Ô∏è")</td>
                            <td class="status-pending">PENDENTE</td>
                        </tr>
                        <tr>
                            <td>Semana 4</td>
                            <td class="value">R$ 211,12</td>
                            <td style="background-color: #fff2cc;">INSERIR</td>
                            <td class="formula">=B44-C44</td>
                            <td class="formula">=SE(D44>0;"‚úÖ";"‚ö†Ô∏è")</td>
                            <td class="status-pending">PENDENTE</td>
                        </tr>
                        <tr class="total-row">
                            <td><strong>TOTAL M√äS</strong></td>
                            <td class="value"><strong>R$ 844,54</strong></td>
                            <td class="formula"><strong>=SOMA(C41:C44)</strong></td>
                            <td class="formula"><strong>=B45-C45</strong></td>
                            <td></td>
                            <td><strong>ACOMPANHAR</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Checklist de A√ß√µes -->
        <div class="section">
            <div class="section-header">‚úÖ CHECKLIST DE A√á√ïES MENSAIS</div>
            <div class="section-content">
                <table>
                    <thead>
                        <tr>
                            <th>PRIORIDADE</th>
                            <th>A√á√ÉO</th>
                            <th>PRAZO</th>
                            <th>STATUS</th>
                            <th>OBSERVA√á√ïES</th>
                            <th>A√á√ïES</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="priority">
                            <td>ALTA</td>
                            <td>Configurar investimento autom√°tico de R$ 430</td>
                            <td>Dia 5</td>
                            <td>‚è≥ PENDENTE</td>
                            <td>Todo dia 5 ap√≥s sal√°rio</td>
                            <td>üíº</td>
                        </tr>
                        <tr class="warning">
                            <td>ALTA</td>
                            <td>Pesquisar novo seguro do carro</td>
                            <td>15 dias</td>
                            <td>‚è≥ PENDENTE</td>
                            <td>Meta: economizar R$ 50-80</td>
                            <td>üîç</td>
                        </tr>
                        <tr>
                            <td>M√âDIA</td>
                            <td>Organizar uso completo dos vales</td>
                            <td>7 dias</td>
                            <td>‚è≥ PENDENTE</td>
                            <td>Vale Alimenta√ß√£o + Transporte</td>
                            <td>üìà</td>
                        </tr>
                        <tr>
                            <td>BAIXA</td>
                            <td>Avaliar oportunidades de renda extra</td>
                            <td>30 dias</td>
                            <td>‚è≥ PENDENTE</td>
                            <td>Meta: R$ 200-500 extras</td>
                            <td>üìã</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Resumo Final -->
        <div class="section">
            <div class="section-header">üìä RESUMO EXECUTIVO</div>
            <div class="section-content">
                <div class="kpi-grid">
                    <div class="kpi-card" style="background: linear-gradient(135deg, #dcfce7, #bbf7d0);">
                        <div class="kpi-value" style="color: #16a34a;">VI√ÅVEL ‚úì</div>
                        <div class="kpi-label">STATUS DA META</div>
                    </div>
                    <div class="kpi-card" style="background: linear-gradient(135deg, #fef3c7, #fde68a);">
                        <div class="kpi-value" style="color: #d97706;">74%</div>
                        <div class="kpi-label">COMPROMETIMENTO MORADIA</div>
                    </div>
                    <div class="kpi-card" style="background: linear-gradient(135deg, #dbeafe, #bfdbfe);">
                        <div class="kpi-value" style="color: #2563eb;">R$ 394</div>
                        <div class="kpi-label">MARGEM SEGURAN√áA</div>
                    </div>
                    <div class="kpi-card" style="background: linear-gradient(135deg, #f3e8ff, #e9d5ff);">
                        <div class="kpi-value" style="color: #9333ea;">R$ 5.880</div>
                        <div class="kpi-label">POTENCIAL ANUAL</div>
                    </div>
                </div>
                
                <p><strong>SITUA√á√ÉO ATUAL:</strong> Or√ßamento equilibrado com margem de seguran√ßa adequada</p>
                <p><strong>PR√ìXIMOS PASSOS:</strong> Implementar controle autom√°tico e otimizar seguro do carro</p>
                <p><strong>OPORTUNIDADES:</strong> Com otimiza√ß√µes, poss√≠vel economizar R$ 720 extras por ano</p>
            </div>
        </div>

        <!-- DICAS DE USO -->
        <div class="section">
            <div class="section-header">üí° DICAS DE USO</div>
            <div class="section-content">
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin: 10px 0;">
                    <h3 style="margin: 0 0 10px 0;">üöÄ Como usar esta planilha interativa:</h3>
                    <p style="margin: 5px 0;">1. <strong>Atualize os valores</strong> nos campos edit√°veis (sal√°rio, benef√≠cios, despesas)</p>
                    <p style="margin: 5px 0;">2. <strong>Ajuste as despesas fixas</strong> conforme sua realidade</p>
                    <p style="margin: 5px 0;">3. <strong>Monitore os KPIs</strong> do dashboard que se atualizam automaticamente</p>
                    <p style="margin: 5px 0;">4. <strong>Configure sua margem de seguran√ßa</strong> para emerg√™ncias</p>
                    <p style="margin: 5px 0;">5. <strong>Acompanhe a distribui√ß√£o</strong> sugerida do seu saldo livre</p>
                </div>
            </div>
        </div>

        <div style="text-align: center; margin-top: 30px; padding: 20px; background-color: #f8fafc; border-radius: 8px;">
            <p><strong>üí° PLANILHA INTERATIVA:</strong> Todos os valores s√£o edit√°veis e se atualizam automaticamente!</p>
            <p><em>√öltima atualiza√ß√£o: Dezembro 2024 | Revis√£o recomendada: Mensal</em></p>
        </div>
    </div>

    <script>
        function formatarMoeda(valor) {
            return 'R$ ' + valor.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
        }

        function calcularTotais() {
            // Obter valores das receitas
            const salario = parseFloat(document.getElementById('salario').value) || 0;
            const valeTransporte = parseFloat(document.getElementById('vale-transporte').value) || 0;
            const valeAlimentacao = parseFloat(document.getElementById('vale-alimentacao').value) || 0;
            
            // Calcular total de receitas
            const totalReceitas = salario + valeTransporte + valeAlimentacao;
            
            // Obter valores das despesas fixas
            const aluguel = parseFloat(document.getElementById('aluguel').value) || 0;
            const seguro = parseFloat(document.getElementById('seguro').value) || 0;
            
            // Calcular total de despesas fixas
            const totalDespesas = aluguel + seguro;
            
            // Atualizar despesas fixas
            document.getElementById('total-despesas').textContent = formatarMoeda(totalDespesas);
            
            // Calcular percentuais das despesas
            if (totalReceitas > 0) {
                const percAluguel = (aluguel / totalReceitas) * 100;
                const percSeguro = (seguro / totalReceitas) * 100;
                const percTotalDespesas = (totalDespesas / totalReceitas) * 100;
                
                document.getElementById('perc-aluguel').textContent = percAluguel.toFixed(1) + '%';
                document.getElementById('perc-seguro').textContent = percSeguro.toFixed(1) + '%';
                document.getElementById('perc-total-despesas').textContent = percTotalDespesas.toFixed(1) + '%';
            }
            
            // Atualizar displays
            document.getElementById('total-receitas').textContent = formatarMoeda(totalReceitas);
            document.getElementById('receita-total').textContent = formatarMoeda(totalReceitas);
            
            // Calcular meta de investimento (20% do sal√°rio)
            const metaInvestimento = salario * 0.2;
            document.getElementById('meta-investimento').textContent = formatarMoeda(metaInvestimento);
            document.getElementById('valor-investimento').textContent = formatarMoeda(metaInvestimento);
            
            // Calcular proje√ß√£o anual
            const projecaoAnual = metaInvestimento * 12;
            document.getElementById('projecao-anual').textContent = formatarMoeda(projecaoAnual);
            
            // Calcular saldo livre (receitas - despesas fixas - investimentos)
            const saldoLivre = totalReceitas - totalDespesas - metaInvestimento;
            document.getElementById('saldo-livre').textContent = formatarMoeda(saldoLivre);
            
            // Atualizar saldo dispon√≠vel
            document.getElementById('saldo-disponivel').textContent = formatarMoeda(saldoLivre);
            
            // Obter margem de seguran√ßa
            const margemSeguranca = parseFloat(document.getElementById('margem-seguranca').value) || 0;
            
            // Calcular saldo para gastos vari√°veis
            const saldoGastosVariaveis = saldoLivre - margemSeguranca;
            document.getElementById('saldo-gastos-variaveis').textContent = formatarMoeda(saldoGastosVariaveis);
            
            // Calcular distribui√ß√£o do saldo livre
            const valorAlimentacao = saldoGastosVariaveis * 0.40;
            const valorLazer = saldoGastosVariaveis * 0.25;
            const valorVestuario = saldoGastosVariaveis * 0.15;
            const valorSaude = saldoGastosVariaveis * 0.10;
            const valorEducacao = saldoGastosVariaveis * 0.10;
            
            document.getElementById('valor-alimentacao').textContent = formatarMoeda(valorAlimentacao);
            document.getElementById('valor-lazer').textContent = formatarMoeda(valorLazer);
            document.getElementById('valor-vestuario').textContent = formatarMoeda(valorVestuario);
            document.getElementById('valor-saude').textContent = formatarMoeda(valorSaude);
            document.getElementById('valor-educacao').textContent = formatarMoeda(valorEducacao);
            document.getElementById('total-distribuicao').textContent = formatarMoeda(saldoGastosVariaveis);
            
            // Calcular taxa de poupan√ßa
            const taxaPoupanca = totalReceitas > 0 ? (metaInvestimento / totalReceitas) * 100 : 0;
            document.getElementById('taxa-poupanca').textContent = taxaPoupanca.toFixed(1) + '%';
        }

        // Inicializar c√°lculos quando a p√°gina carregar
        window.onload = function() {
            calcularTotais();
        };
        
        // Tamb√©m calcular quando qualquer input for alterado
        document.addEventListener('DOMContentLoaded', function() {
            calcularTotais();
        });
    </script>
</body>
</html>
